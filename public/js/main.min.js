if("serviceWorker"in navigator&&navigator.serviceWorker.register("../serviceWorker.js"),document.querySelector("video")){const e=document.querySelector("video");"BarcodeDetector"in window&&(e.style.display="block",getCamera(e))}async function getCamera(e){const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}},audio:!1});e.srcObject=t,await e.play(),detectBarcode(e)}function detectBarcode(e){const t=new BarcodeDetector({formats:["ean_13"]});window.setInterval((async()=>{const o=await t.detect(e);if(!(o.length<=0)){window.location.pathname="product/"+o[0].rawValue;document.querySelector(".details").innerHTML='\n            <h1>Product info ophalen...</h1>\n            <img src="../img/spinner.gif" />\n            '}}),1e3)}function toggleDetails(){this.classList.toggle("open")}document.querySelector(".result")&&document.querySelector(".result").addEventListener("click",toggleDetails);
